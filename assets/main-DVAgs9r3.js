import{O as k,C as L}from"./bsConstants-G1WsuQMq.js";function S(){const u=document.createElement("img");return u.id="whatsNewButton",u.style.cursor="pointer",u.setAttribute("class","icon"),u.classList.add("clickable"),u.setAttribute("title","Whats New?"),u.setAttribute("src","/w-info.svg"),u.onclick=async function(){await k.modal.open({id:L.EXTENSIONWHATSNEW,url:"/src/whatsnew/whatsnew.html?subscriber=false",height:500,width:350})},u}class y{carouselIndex=0;ADD=document.getElementById("clockAdd");REMOVE=document.getElementById("clockRemove");NEXT=document.getElementById("clockNext");PREV=document.getElementById("clockPrevious");NAME=document.getElementById("clockName");NUMBER=document.getElementById("clockSlices");DISPLAYCONTAINER=document.getElementById("clockDisplay");CAROUSELTRACK=document.getElementById("clockCarousel");constructor(){}SetupControls(){this.ADD.onclick=()=>{const e=document.createElement("div");e.id=crypto.randomUUID(),e.classList.add("clock-selected"),e.classList.add("carousel-item"),e.appendChild(this.getClockSlices(6)),this.CAROUSELTRACK.appendChild(e);const t=this.CAROUSELTRACK.getElementsByClassName("clock-selected");t.length>0&&t[0].classList.remove("clock-selected");const s=this.CAROUSELTRACK.children;this.carouselIndex=s.length-1,s[this.carouselIndex].classList.add("clock-selected"),this.updateCarousel()},this.REMOVE.onclick=()=>{const e=this.CAROUSELTRACK.getElementsByClassName("clock-selected");if(e.length>0&&e[0].remove(),this.CAROUSELTRACK.children.length>0){const t=this.CAROUSELTRACK.children;this.carouselIndex--,this.carouselIndex>=0?(t[this.carouselIndex].classList.add("clock-selected"),this.updateCarousel()):t.length>0?(this.carouselIndex=t.length-1,t[this.carouselIndex].classList.add("clock-selected"),this.updateCarousel()):this.carouselIndex=0}},this.PREV.onclick=()=>{const e=this.CAROUSELTRACK.children;this.carouselIndex=(this.carouselIndex-1+e.length)%e.length,this.updateCarousel()},this.NEXT.onclick=()=>{const e=this.CAROUSELTRACK.children;this.carouselIndex=(this.carouselIndex+1)%e.length,this.updateCarousel()},this.NAME.onblur=()=>{if(this.selectedClock()){const e=this.NAME.value;this.selectedClock().setAttribute("clock-name",e)}},this.NUMBER.onblur=()=>{const e=parseInt(this.NUMBER.value);e>0&&this.selectedClock()!==void 0&&(this.selectedClock().replaceChildren(),this.selectedClock().appendChild(this.getClockSlices(e)))}}updateCarousel(){const e=this.CAROUSELTRACK.children;e[this.carouselIndex].classList.add("clock-selected");const s=e[0].clientWidth;this.CAROUSELTRACK.style.transform=`translateX(-${this.carouselIndex*s}px)`,this.NAME.value=this.selectedClock().getAttribute("clock-name")??""}getClockSlices(e){const t=document.createElementNS("http://www.w3.org/2000/svg","svg");t.setAttribute("viewBox","0 0 200 200"),t.setAttribute("width","200px"),t.setAttribute("height","200px"),t.setAttribute("class","clocks-svg");const s=90,n=100,g=100,r=2*Math.PI/e;for(let i=0;i<e;i++){const a=i*r,c=(i+1)*r,h=c-a<=Math.PI?0:1,C=n+Math.cos(a)*s,m=g+Math.sin(a)*s,l=n+Math.cos(c)*s,o=g+Math.sin(c)*s,A=[`M ${n},${g}`,`L ${C},${m}`,`A ${s},${s} 0 ${h} 1 ${l},${o}`,"Z"].join(" "),d=document.createElementNS("http://www.w3.org/2000/svg","path");d.setAttribute("d",A),d.setAttribute("class","slice"),d.setAttribute("cut",i.toString()),d.setAttribute("toggled","0"),d.setAttribute("stroke",`hsl(${360/e*i}, 70%, 70%)`),d.addEventListener("click",()=>E(d)),t.appendChild(d)}const E=i=>{i.classList.toggle("path-selected")};return t}selectedClock=()=>this.CAROUSELTRACK.children[this.carouselIndex]}const N=new y;class v{carouselIndex=0;ADD=document.getElementById("checkboxAdd");REMOVE=document.getElementById("checkboxRemove");NEXT=document.getElementById("checkboxNext");PREV=document.getElementById("checkboxPrevious");NAME=document.getElementById("checkboxName");NUMBER=document.getElementById("checkboxSlices");DISPLAYCONTAINER=document.getElementById("checkboxDisplay");CAROUSELTRACK=document.getElementById("checkboxCarousel");constructor(){}SetupControls(){this.ADD.onclick=()=>{const e=document.createElement("div");e.id=crypto.randomUUID(),e.classList.add("checkbox-selected"),e.classList.add("carousel-item"),e.appendChild(this.getSvgCheckboxes(4)),this.CAROUSELTRACK.appendChild(e);const t=this.CAROUSELTRACK.getElementsByClassName("checkbox-selected");t.length>0&&t[0].classList.remove("checkbox-selected");const s=this.CAROUSELTRACK.children;this.carouselIndex=s.length-1,s[this.carouselIndex].classList.add("checkbox-selected"),this.updateCarousel()},this.REMOVE.onclick=()=>{const e=this.CAROUSELTRACK.getElementsByClassName("checkbox-selected");if(e.length>0&&e[0].remove(),this.CAROUSELTRACK.children.length>0){const t=this.CAROUSELTRACK.children;this.carouselIndex--,this.carouselIndex>=0?(t[this.carouselIndex].classList.add("checkbox-selected"),this.updateCarousel()):t.length>0?(this.carouselIndex=t.length-1,t[this.carouselIndex].classList.add("checkbox-selected"),this.updateCarousel()):this.carouselIndex=0}},this.PREV.onclick=()=>{const e=this.CAROUSELTRACK.children;this.carouselIndex=(this.carouselIndex-1+e.length)%e.length,this.updateCarousel()},this.NEXT.onclick=()=>{const e=this.CAROUSELTRACK.children;this.carouselIndex=(this.carouselIndex+1)%e.length,this.updateCarousel()},this.NAME.onblur=()=>{if(this.selectedCheckbox()){const e=this.NAME.value;this.selectedCheckbox().setAttribute("checkbox-name",e)}},this.NUMBER.onblur=()=>{const e=parseInt(this.NUMBER.value);e>0&&this.selectedCheckbox()!==void 0&&(this.selectedCheckbox().replaceChildren(),this.selectedCheckbox().appendChild(this.getSvgCheckboxes(e)))}}updateCarousel(){const e=this.CAROUSELTRACK.children;e[this.carouselIndex].classList.add("checkbox-selected");const s=e[0].clientWidth;this.CAROUSELTRACK.style.transform=`translateX(-${this.carouselIndex*s}px)`,this.NAME.value=this.selectedCheckbox().getAttribute("checkbox-name")??""}getSvgCheckboxes(e){const t=Math.min(e,100),s=document.createElementNS("http://www.w3.org/2000/svg","svg"),n=Math.ceil(Math.sqrt(t)),g=Math.ceil(t/n),r=40,E=n*r,i=g*r;s.setAttribute("viewBox",`0 0 ${E} ${i}`),s.setAttribute("width",`${E}px`),s.setAttribute("height",`${i}px`),s.setAttribute("class","checkbox-svg");for(let c=0;c<t;c++){const h=document.createElementNS("http://www.w3.org/2000/svg","g"),C=c%n,m=Math.floor(c/n);h.setAttribute("transform",`translate(${C*r}, ${m*r})`);const l=document.createElementNS("http://www.w3.org/2000/svg","rect");l.setAttribute("x","5"),l.setAttribute("y","5"),l.setAttribute("width","30"),l.setAttribute("height","30"),l.setAttribute("fill","transparent"),l.setAttribute("stroke-width","2"),l.setAttribute("rx","6"),l.setAttribute("ry","6"),l.setAttribute("class","checkbox-rect");const o=document.createElementNS("http://www.w3.org/2000/svg","path");o.setAttribute("d","M221.65723,34.34326A8.00246,8.00246,0,0,0,216,32h-.02539l-63.79883.20117A8.00073,8.00073,0,0,0,146.0332,35.106L75.637,120.32275,67.31348,111.999A16.02162,16.02162,0,0,0,44.68555,112L32.001,124.68555A15.99888,15.99888,0,0,0,32,147.31348l20.88672,20.88769L22.94531,198.14258a16.01777,16.01777,0,0,0,.001,22.62695l12.28418,12.28418a16.00007,16.00007,0,0,0,22.62793,0L87.79883,203.1123,108.68652,224.001A16.02251,16.02251,0,0,0,131.31445,224L143.999,211.31445A15.99888,15.99888,0,0,0,144,188.68652l-8.32324-8.32324,85.21679-70.39648a8.00125,8.00125,0,0,0,2.90528-6.14258L224,40.02539A8.001,8.001,0,0,0,221.65723,34.34326Zm-13.84668,65.67822-83.49829,68.97706L111.314,156l54.34327-54.34277a8.00053,8.00053,0,0,0-11.31446-11.31446L100,144.686,87.00195,131.6875,155.97852,48.189l51.99609-.16357Z"),o.setAttribute("fill","transparent"),o.setAttribute("stroke","none"),o.setAttribute("class","checkmark"),o.setAttribute("transform",`translate(5, 5) scale(${.115})`),h.appendChild(l),h.appendChild(o),h.addEventListener("click",()=>a(o)),s.appendChild(h)}const a=c=>{c.classList.toggle("check-selected")};return s}selectedCheckbox=()=>this.CAROUSELTRACK.children[this.carouselIndex]}const O=new v;class T{carouselIndex=0;ADD=document.getElementById("counterAdd");REMOVE=document.getElementById("counterRemove");NEXT=document.getElementById("counterNext");PREV=document.getElementById("counterPrevious");NAME=document.getElementById("counterName");RESET=document.getElementById("counterReset");DISPLAYCONTAINER=document.getElementById("counterDisplay");CAROUSELTRACK=document.getElementById("counterCarousel");constructor(){}SetupControls(){this.ADD.onclick=()=>{const e=document.createElement("div");e.id=crypto.randomUUID(),e.classList.add("counter-selected"),e.classList.add("carousel-item"),e.appendChild(this.getSvgNumberCounter()),this.CAROUSELTRACK.appendChild(e);const t=this.CAROUSELTRACK.getElementsByClassName("counter-selected");t.length>0&&t[0].classList.remove("counter-selected");const s=this.CAROUSELTRACK.children;this.carouselIndex=s.length-1,s[this.carouselIndex].classList.add("counter-selected"),this.updateCarousel()},this.REMOVE.onclick=()=>{const e=this.CAROUSELTRACK.getElementsByClassName("counter-selected");if(e.length>0&&e[0].remove(),this.CAROUSELTRACK.children.length>0){const t=this.CAROUSELTRACK.children;this.carouselIndex--,this.carouselIndex>=0?(t[this.carouselIndex].classList.add("counter-selected"),this.updateCarousel()):t.length>0?(this.carouselIndex=t.length-1,t[this.carouselIndex].classList.add("counter-selected"),this.updateCarousel()):this.carouselIndex=0}},this.PREV.onclick=()=>{const e=this.CAROUSELTRACK.children;this.carouselIndex=(this.carouselIndex-1+e.length)%e.length,this.updateCarousel()},this.NEXT.onclick=()=>{const e=this.CAROUSELTRACK.children;this.carouselIndex=(this.carouselIndex+1)%e.length,this.updateCarousel()},this.NAME.onblur=()=>{if(this.selectedCounter()){const e=this.NAME.value;this.selectedCounter().setAttribute("counter-name",e)}},this.RESET.onclick=()=>{this.selectedCounter().querySelector(".display-text")?.textContent&&(this.selectedCounter().querySelector(".display-text").textContent="0")}}updateCarousel(){const e=this.CAROUSELTRACK.children;e[this.carouselIndex].classList.add("counter-selected");const s=e[0].clientWidth;this.CAROUSELTRACK.style.transform=`translateX(-${this.carouselIndex*s}px)`,this.NAME.value=this.selectedCounter().getAttribute("counter-name")??""}getSvgNumberCounter(){const e=document.createElementNS("http://www.w3.org/2000/svg","svg"),t=200,s=100,n=40,g=100,r=60,E=10;e.setAttribute("viewBox",`0 0 ${t} ${s}`),e.setAttribute("width",`${t}px`),e.setAttribute("height",`${s}px`);const i=document.createElementNS("http://www.w3.org/2000/svg","g");i.setAttribute("transform",`translate(${n+E}, 20)`);const a=document.createElementNS("http://www.w3.org/2000/svg","rect");a.setAttribute("width",`${g}`),a.setAttribute("height",`${r}`),a.setAttribute("stroke-width","2"),a.setAttribute("rx","6"),a.setAttribute("ry","6"),a.setAttribute("class","display-rect");const c=document.createElementNS("http://www.w3.org/2000/svg","text");c.setAttribute("x",`${g/2}`),c.setAttribute("y",`${r/2+10}`),c.setAttribute("text-anchor","middle"),c.setAttribute("font-size","32"),c.setAttribute("font-family","Arial, sans-serif"),c.setAttribute("class","display-text"),c.textContent="0",i.appendChild(a),i.appendChild(c);const h=document.createElementNS("http://www.w3.org/2000/svg","g");h.setAttribute("transform",`translate(${t-n}, 20)`);const C=document.createElementNS("http://www.w3.org/2000/svg","rect");C.setAttribute("width",`${n}`),C.setAttribute("height",`${r}`),C.setAttribute("stroke-width","2"),C.setAttribute("rx","6"),C.setAttribute("ry","6"),C.setAttribute("class","clicker-control");const m=document.createElementNS("http://www.w3.org/2000/svg","text");m.setAttribute("x",`${n/2}`),m.setAttribute("y",`${r/2+10}`),m.setAttribute("text-anchor","middle"),m.setAttribute("font-size","24"),m.setAttribute("font-family","Arial, sans-serif"),m.setAttribute("class","clicker-control"),m.textContent="+",h.appendChild(C),h.appendChild(m);const l=document.createElementNS("http://www.w3.org/2000/svg","g");l.setAttribute("transform","translate(0, 20)");const o=document.createElementNS("http://www.w3.org/2000/svg","rect");o.setAttribute("width",`${n}`),o.setAttribute("height",`${r}`),o.setAttribute("stroke-width","2"),o.setAttribute("rx","6"),o.setAttribute("ry","6"),o.setAttribute("class","clicker-control");const A=document.createElementNS("http://www.w3.org/2000/svg","text");return A.setAttribute("x",`${n/2}`),A.setAttribute("y",`${r/2+10}`),A.setAttribute("text-anchor","middle"),A.setAttribute("font-size","24"),A.setAttribute("font-family","Arial, sans-serif"),A.setAttribute("class","clicker-control"),A.textContent="-",l.appendChild(o),l.appendChild(A),h.addEventListener("click",()=>{let d=parseInt(c.textContent??"0");d++,c.textContent=d.toString()}),l.addEventListener("click",()=>{let d=parseInt(c.textContent??"0");d--,c.textContent=d.toString()}),e.appendChild(l),e.appendChild(i),e.appendChild(h),e}selectedCounter=()=>this.CAROUSELTRACK.children[this.carouselIndex]}const f=new T,b=document.getElementById("clockButton"),x=document.getElementById("clockContainer"),p=document.getElementById("checkboxButton"),I=document.getElementById("checkboxContainer"),w=document.getElementById("counterButton"),R=document.getElementById("numberContainer");k.onReady(async()=>{N.SetupControls(),O.SetupControls(),f.SetupControls(),U(),B()});function B(){document.getElementById("whatsNewContainer").appendChild(S())}function U(){b.onclick=()=>{b.classList.add("selected"),x.style.display="grid",p.classList.remove("selected"),I.style.display="none",w.classList.remove("selected"),R.style.display="none"},p.onclick=()=>{p.classList.add("selected"),I.style.display="grid",b.classList.remove("selected"),x.style.display="none",w.classList.remove("selected"),R.style.display="none"},w.onclick=()=>{w.classList.add("selected"),R.style.display="grid",p.classList.remove("selected"),I.style.display="none",b.classList.remove("selected"),x.style.display="none"}}
